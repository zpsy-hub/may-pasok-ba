# Actual Suspension Data - September 2025

This document provides comprehensive details about the **actual class suspension records** collected for September 2025 in Metro Manila.

## üìÖ Overview

**Date Range**: September 1-26, 2025  
**Total Suspension Days**: 6 days  
**Total Records**: 102 (6 days √ó 17 LGUs)  
**Data Source**: Official announcements from DILG, Malaca√±ang Palace, and individual LGU governments

---

## üåÄ Suspension Events

### **1. September 1, 2025 (Monday)**
- **Type**: DILG-Mandated Metro Manila-wide
- **Reason**: Heavy rain from low pressure area inside Philippine Area of Responsibility (PAR) or southwest monsoon
- **Scope**: All 17 Metro Manila LGUs
- **Levels**: All educational levels (preschool to tertiary)
- **Public & Private**: Both affected

**LGUs Suspended**: Caloocan, Las Pi√±as, Makati, Malabon, Mandaluyong, Manila, Marikina, Muntinlupa, Navotas, Para√±aque, Pasay, Pasig, Pateros, Quezon City, San Juan, Taguig, Valenzuela

---

### **2. September 22, 2025 (Monday)**
- **Type**: Typhoon-related (Partial Metro Manila)
- **Typhoon**: Super Typhoon Nando (International name: Ragasa)
- **Additional Factor**: Enhanced southwest monsoon (habagat)
- **Scope**: 9 out of 17 LGUs
- **Levels**: All educational levels
- **Public & Private**: Both affected

**LGUs Suspended**: Caloocan, Las Pi√±as, Malabon, Manila, Marikina, Muntinlupa, Navotas, Para√±aque, Pateros

**LGUs NOT Suspended**: Makati, Mandaluyong, Pasay, Pasig, Quezon City, San Juan, Taguig, Valenzuela

**Key Insight**: This partial suspension shows LGU-level decision-making variation. Likely factors:
- Geographic location (western vs eastern Metro Manila)
- Flooding risk assessments
- Local government preparedness

---

### **3. September 23, 2025 (Tuesday)**
- **Type**: Typhoon-related (Metro Manila-wide)
- **Typhoon**: Super Typhoon Nando (Ragasa) - Peak impact
- **Additional Factor**: Enhanced southwest monsoon (habagat)
- **Scope**: All 17 Metro Manila LGUs
- **Levels**: All educational levels (Pasig: preschool to senior high only)
- **Public & Private**: Both affected

**LGUs Suspended**: All 17 LGUs  
**Special Case**: Pasig City suspended preschool to senior high school only (not tertiary)

**Key Insight**: Full Metro Manila suspension indicates peak typhoon conditions. Pasig's partial suspension (excluding college) suggests nuanced risk assessment.

---

### **4. September 24, 2025 (Wednesday)**
- **Type**: Typhoon Recovery
- **Reason**: Recovery efforts from Super Typhoon Nando + continued habagat effects
- **Scope**: 1 LGU only (Valenzuela)
- **Levels**: All educational levels
- **Public & Private**: Both affected

**LGUs Suspended**: Valenzuela (only)

**LGUs NOT Suspended**: All other 16 LGUs resumed classes

**Key Insight**: Valenzuela's extended suspension suggests:
- More severe localized damage/flooding
- Slower infrastructure recovery
- Precautionary measures for ongoing habagat effects

---

### **5. September 25, 2025 (Thursday)**
- **Type**: Typhoon Preparation (Partial - mostly preschool)
- **Typhoon**: Severe Tropical Storm Opong (International name: Bualoi)
- **Stage**: Pre-landfall preparation
- **Scope**: 7 out of 17 LGUs (mostly preschool only)
- **Levels**: Primarily preschool; Valenzuela all levels
- **Special**: Quezon City suspended public preschool only (not private)

**LGUs Suspended (Preschool only)**:
- Caloocan (public & private)
- Malabon (public & private)
- Pasig (public & private)
- Pateros (public & private)
- Quezon City (public only, private continued)
- Taguig (public & private)

**Valenzuela**: All levels (public & private) - continued from Sept 24

**LGUs NOT Suspended**: Las Pi√±as, Makati, Mandaluyong, Manila, Marikina, Muntinlupa, Navotas, Para√±aque, Pasay, San Juan

**Key Insight**: Selective preschool suspension shows:
- Precautionary approach for youngest students
- Risk assessment based on incoming Severe Tropical Storm
- Quezon City's public-only suspension reflects localized policy

---

### **6. September 26, 2025 (Friday)**
- **Type**: Palace-Mandated Metro Manila-wide
- **Typhoon**: Severe Tropical Storm Opong (Bualoi)
- **Additional Factor**: Southwest monsoon
- **Scope**: All 17 Metro Manila LGUs
- **Levels**: All educational levels
- **Government Work**: Also suspended (Malaca√±ang declaration)
- **Public & Private**: Both affected

**LGUs Suspended**: All 17 LGUs  
**Government Offices**: Also closed

**Key Insight**: Palace declaration indicates highest-level risk assessment. Government work suspension rare and suggests severe weather conditions.

---

## üìä Summary Statistics

### Suspension Frequency by LGU

| Rank | LGU | Suspension Days | Dates |
|------|-----|-----------------|-------|
| ü•á 1 | **Caloocan** | 6 days | Sept 1, 22, 23, 25, 26 |
| ü•á 1 | **Malabon** | 6 days | Sept 1, 22, 23, 25, 26 |
| ü•á 1 | **Pateros** | 6 days | Sept 1, 22, 23, 25, 26 |
| ü•á 1 | **Valenzuela** | 6 days | Sept 1, 23, 24, 25, 26 |
| ü•à 5 | Pasig | 5 days | Sept 1, 23, 25, 26 |
| ü•à 5 | Quezon City | 5 days | Sept 1, 23, 25, 26 |
| ü•à 5 | Taguig | 5 days | Sept 1, 23, 25, 26 |
| ü•à 5 | Las Pi√±as | 5 days | Sept 1, 22, 23, 26 |
| ü•à 5 | Manila | 5 days | Sept 1, 22, 23, 26 |
| ü•à 5 | Marikina | 5 days | Sept 1, 22, 23, 26 |
| ü•à 5 | Muntinlupa | 5 days | Sept 1, 22, 23, 26 |
| ü•à 5 | Navotas | 5 days | Sept 1, 22, 23, 26 |
| ü•à 5 | Para√±aque | 5 days | Sept 1, 22, 23, 26 |
| ü•â 14 | Makati | 4 days | Sept 1, 23, 26 |
| ü•â 14 | Mandaluyong | 4 days | Sept 1, 23, 26 |
| ü•â 14 | Pasay | 4 days | Sept 1, 23, 26 |
| ü•â 14 | San Juan | 4 days | Sept 1, 23, 26 |

### Key Patterns

**Most Suspended LGUs (6 days)**: Caloocan, Malabon, Pateros, Valenzuela
- Likely factors: Flood-prone areas, proximity to water bodies, infrastructure vulnerabilities

**Least Suspended LGUs (4 days)**: Makati, Mandaluyong, Pasay, San Juan
- Likely factors: Better drainage systems, business district infrastructure, elevated terrain

**Suspension Types**:
- Metro Manila-wide: 4 events (Sept 1, 23, 26)
- Partial Metro Manila: 2 events (Sept 22, 24, 25)
- Typhoon-related: 5 events
- Non-typhoon: 1 event (Sept 1)

---

## üéØ Use Cases for Model Validation

### 1. **Accuracy Metrics**
Compare model predictions (`predicted_suspended`) against actual suspensions (`actual_suspended`):

```python
# Metrics to calculate:
- Precision: TP / (TP + FP)
- Recall: TP / (TP + FN)
- F1 Score: 2 * (Precision * Recall) / (Precision + Recall)
- Accuracy: (TP + TN) / Total
```

**Example**:
- Sept 23: Model predicts ALL 17 LGUs suspended ‚Üí Actual: ALL 17 suspended ‚Üí **Perfect accuracy (17/17)**
- Sept 22: Model predicts 9 LGUs suspended ‚Üí Actual: 9 suspended ‚Üí **Check if same LGUs**

### 2. **LGU-Specific Performance**
Identify which LGUs the model predicts well vs poorly:

```python
# Per-LGU accuracy:
- Caloocan: 6/6 correct? (most suspended)
- Makati: 4/4 correct? (least suspended)
```

### 3. **Typhoon Impact Analysis**
Analyze model performance during typhoon events:

```python
# Questions to answer:
- Does model correctly identify Super Typhoon vs Severe Tropical Storm impact?
- Does model capture habagat enhancement effects?
- Can model predict partial vs full Metro Manila suspensions?
```

### 4. **Feature Importance Validation**
Which weather features correlate with actual suspensions?

```python
# Analysis:
- Sept 1 (non-typhoon): Rainfall as primary driver
- Sept 22-24 (Super Typhoon Nando): Wind speed + rainfall + TCWS
- Sept 25-26 (Severe Tropical Storm Opong): Rainfall + TCWS lower than Nando
```

---

## üîß Technical Implementation

### Database Schema Update

The `daily_predictions` table has been designed with an `actual_suspended` column:

```sql
CREATE TABLE daily_predictions (
    id BIGSERIAL PRIMARY KEY,
    prediction_date DATE NOT NULL,
    lgu TEXT NOT NULL,
    probability DECIMAL(5,4),
    predicted_suspended BOOLEAN,
    actual_suspended BOOLEAN,  -- ‚Üê Populated by this dataset
    created_at TIMESTAMPTZ DEFAULT NOW(),
    UNIQUE(prediction_date, lgu)
);
```

### Upload Script Usage

```bash
# Navigate to backfill folder
cd backfill

# Run upload script
python upload_actual_suspensions.py
```

**Output**:
- Updates existing `daily_predictions` records with `actual_suspended` field
- Creates new records if prediction doesn't exist yet
- Generates collection log entry for tracking
- Prints summary statistics

### Expected Database State After Upload

```
102 records updated/created:
- 6 dates √ó 17 LGUs = 102 rows
- Each row has actual_suspended = true/false
- Ready for comparison with predicted_suspended
```

---

## üìà Next Steps

### 1. **Run Historical Predictions**
Generate model predictions for Sept 1-26, 2025:
```bash
python backfill/collect_historical_weather.py  # Get weather data
python backfill/engineer_features.py           # Generate features
python backfill/generate_predictions.py        # Run model
python backfill/upload_to_database.py          # Upload predictions
```

### 2. **Calculate Accuracy Metrics**
Once predictions are uploaded, run comparison:
```sql
-- Overall accuracy
SELECT 
    COUNT(*) as total,
    SUM(CASE WHEN predicted_suspended = actual_suspended THEN 1 ELSE 0 END) as correct,
    ROUND(SUM(CASE WHEN predicted_suspended = actual_suspended THEN 1 ELSE 0 END)::DECIMAL / COUNT(*) * 100, 2) as accuracy_pct
FROM daily_predictions
WHERE prediction_date BETWEEN '2025-09-01' AND '2025-09-26'
AND actual_suspended IS NOT NULL;

-- Per-LGU accuracy
SELECT 
    lgu,
    COUNT(*) as predictions,
    SUM(CASE WHEN predicted_suspended = actual_suspended THEN 1 ELSE 0 END) as correct,
    ROUND(SUM(CASE WHEN predicted_suspended = actual_suspended THEN 1 ELSE 0 END)::DECIMAL / COUNT(*) * 100, 2) as accuracy_pct
FROM daily_predictions
WHERE prediction_date BETWEEN '2025-09-01' AND '2025-09-26'
AND actual_suspended IS NOT NULL
GROUP BY lgu
ORDER BY accuracy_pct DESC;
```

### 3. **Update Dashboard**
Add new section to `web/index.html`:
- **Accuracy scorecard**: Overall precision, recall, F1
- **LGU performance table**: Which LGUs predicted best
- **Timeline comparison**: Predicted vs actual suspension chart
- **Confusion matrix**: TP, TN, FP, FN breakdown

---

## üö® Important Notes

### Data Limitations
1. **No October data**: Only September suspensions available (6 days)
   - October may have had ZERO suspension days (or data not yet collected)
   - Model accuracy metrics will be limited to 6 suspension days

2. **Partial suspensions complexity**:
   - Sept 25: Some LGUs suspended preschool only
   - Model predicts binary (suspended/not suspended)
   - May need to adjust ground truth for fair comparison

3. **Missing PAGASA data**:
   - No historical PAGASA bulletins available for backfill
   - Will need to manually create PAGASA data based on known typhoon events:
     - Super Typhoon Nando (Sept 22-24): Likely TCWS 3-4
     - Severe Tropical Storm Opong (Sept 25-26): Likely TCWS 1-2

### Recommendations
1. **Binary simplification**: Treat any suspension (even preschool-only) as "suspended = true"
2. **Focus on clear-cut cases**: Sept 1, 23, 26 (full Metro Manila) easier to validate
3. **Document edge cases**: Flag Sept 22, 24, 25 as "partial suspensions" in analysis

---

## üìö References

- **Data Sources**:
  - Department of Interior and Local Government (DILG) announcements
  - Malaca√±ang Palace official statements
  - Individual LGU government Facebook pages and websites
  
- **Weather Events**:
  - Super Typhoon Nando (Ragasa) - Sept 22-24, 2025
  - Severe Tropical Storm Opong (Bualoi) - Sept 25-26, 2025
  
- **Related Files**:
  - `actual_suspensions_sept_oct.json` - Raw suspension data
  - `upload_actual_suspensions.py` - Database upload script
  - `database/schema.sql` - Database schema with actual_suspended field

---

**Last Updated**: November 3, 2025  
**Maintained By**: May Pasok Ba Project Team
